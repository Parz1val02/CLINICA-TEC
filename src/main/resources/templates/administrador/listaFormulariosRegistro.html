<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragmentos/cabecera.html::cabecera(titulo='Dashboard')}">
</head>


<body class="">

<!-- ===============================================-->
<!--    Main Content-->
<!-- ===============================================-->
<main class="main" id="top">


    <div class="container" data-layout="container">
        <nav th:replace="~{fragmentos/sidebaradministrador.html::sideBar}"></nav>
        <div class="content" >
            <nav th:replace="~{fragmentos/topbaradministrador.html::topBar}"></nav>
            <div class="card mb-3 bg-card-gradient" style="; background: #FFFFFF">
                <div class="card-body" style="background: #FFFFFF">
                    <div class="row justify-content-between align-items-center">
                        <div class="col-md-11">
                            <h1 class="mb-2 mb-md-0" style="color: #0032aa; font-weight: bold; padding-left: 15px; padding-bottom: 5px">
                                Formularios de Registro
                            </h1>
                        </div>
                        <div class="col-md-11">
                            <h5 class="mb-2 mb-md-0" style="color: #3d8af7; font-weight: bold; padding-left: 15px">
                                Invita a los pacientes que llenaron su formulario de registro
                            </h5>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${msg != null}" th:text="${msg}" class="alert alert-success" role="alert"></div>
            <div th:if="${msgDanger != null}" th:text="${msgDanger}" class="alert alert-danger" role="alert"></div>


            <!-- SEGUNDA TABLA -->
            <div class="card mb-3" style="margin-top: 25px">
                <div class="card-body border-top bg-gradient" style="padding-left: 35px; padding-right: 35px; color: white; font-weight: bold"> Lista de formularios pendientes </div>
                <div class="card-body border-top" style="padding-left: 35px; padding-right: 35px">

                    <form th:action="@{/administrador/guardarFormulariosRegistro}" method="POST">
                        <table class="table table-striped" id="formList">
                            <thead style="background: #cdeffc">
                            <tr>
                                <th class="sort align-middle" style="width: 12%">Seleccionar</th>
                                <th class="sort align-middle" style="width: 18%; text-align: center">DNI</th>
                                <th class="sort align-middle" style="width: 24%;text-align: center">Nombre Completo</th>
                                <th class="sort align-middle" style="width: 25%; text-align: center">Correo</th>



                            </tr>
                            </thead>
                            <tbody class="bg-white">
                            <tr th:each="form, vEstado : ${listaFormulariosRegistro}">
                                <td class="align-middle" align="center" ><input type="checkbox" th:name="'seleccionados'" th:value="${form.id}" /></td>
                                <td class="align-middle" align="center" th:text="${form.dni}"></td>
                                <td class="align-middle" align="center" th:text="${#strings.capitalize(form.nombres)} + ' ' + ${#strings.capitalize(form.apellidos)} "></td>
                                <td class="align-middle" align="center" th:text="${form.correo}"></td>
                            </tr>
                            </tbody>
                        </table>
                        <button type="submit" class="btn btn-secondary" style="text-align: center;background: #02b0fb;
                        border-color: #FFFFFF; margin-top: 1.5rem"> Invitar pacientes </button>
                    </form>

                </div>
            </div>

            <footer th:replace="~{fragmentos/footer.html::footer}"></footer>
        </div>
    </div>
</main>
<!-- ===============================================-->
<!--    End of Main Content-->
<!-- ===============================================-->


<!-- Modal-->
<div th:each="doctor, vEstado : ${listaDoctores}">
    <div class="modal fade" th:id="'modalPerfil-' + ${vEstado.index + 1}"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="false" style="background-color: rgba(0, 0, 0, 0.5);">
        <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Perfil de Dr. <span th:text="' ' + ${#strings.capitalize(doctor.nombre)} + ' ' + ${#strings.capitalize(doctor.apellido)}"></span></h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span class="font-weight-light" aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-sm-12 col-lg-6">
                                <form action="#" method="post">

                                    <div class="row" style="display: flex; align-items: center">

                                        <!-- Columna 1 -->
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="nombres">Nombres</label>
                                                <input type="text" id="nombres"   th:value="${#strings.capitalize(doctor.nombre)}" class="form-control" disabled>
                                            </div>
                                            <div class="form-group">
                                                <label for="email">Email</label>
                                                <input type="text" id="email"  th:value="${doctor.email}" class="form-control" disabled>
                                            </div>
                                        </div>
                                        <!-- Columna 2 -->
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="apellidos">Apellidos</label>
                                                <input type="text" id="apellidos"   th:value="${#strings.capitalize(doctor.apellido)}" class="form-control" disabled>
                                            </div>
                                            <div class="form-group">
                                                <label for="especialidad">Especialidad</label>
                                                <input type="text" id="especialidad"  class="form-control" th:value="${#strings.capitalize(doctor.especialidadesIdEspecialidad.nombreEspecialidad)}" disabled>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="row justify-content-center" >

                                        <!-- Columna 1 -->
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="Telefono">Telefono</label>
                                                <input type="text" id="telefono"  th:value="${doctor.telefono}" class="form-control" disabled>
                                            </div>
                                            <div class="form-group">
                                                <label for="email">Edad</label>
                                                <input type="text" id="edad" th:value="${doctor.edad}" class="form-control" disabled>
                                            </div>
                                        </div>
                                        <!-- Columna 2 -->
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="estado">Estado</label>
                                                <input type="text" id="estado" th:value="${doctor.enabled==true?'Activo':'Inactivo'}" class="form-control" disabled>
                                            </div>
                                        </div>

                                    </div>

                                    <!-- Botón de envío -->

                                </form>
                            </div>
                            <div class="col-lg-6 justify-content-center d-flex align-items-center">
                                <div class="avatar avatar-2x1" style="display: flex; align-items: center; justify-content: space-around">
                                    <img class="rounded-circle" src="/img/team/avatar.png" alt="" style="max-height: 200px; max-width: 200px"/>
                                </div>
                            </div>
                        </div>

                        <div class="row no-gutters">
                            <div class="col-lg-6 pl-lg-2 mb-3">
                                <div class="card mb-3 h-100">
                                    <div class="card-header bg-light" style="text-align: center;">
                                        <h5 class="mb-0">Horarios de disponibilidad</h5>
                                        <p class="text-1000 mb-0">Domingo - 2 de abril de 2023</p>
                                    </div>
                                    <div class="card-body fs--1">
                                        <div class="card-body" style="max-height:100%; overflow-y: auto; text-align: center">
                                            <div class="row" style="display: flex; align-items: center">
                                                <div class="col" style="text-align: center;">
                                                    <p class="text-1000 mb-0 h4">10:00 - 10:30 am</p>
                                                </div>

                                            </div>
                                            <div class="row" style="display: flex; align-items: center; margin-bottom: 35px;margin-top: 35px;">
                                                <div class="col" style="text-align: center;">
                                                    <p class="text-1000 mb-0 h4">10:30 - 11:00 am</p>
                                                </div>

                                            </div>
                                            <div class="row" style="display: flex; align-items: center; margin-bottom: 35px;margin-top: 35px;">
                                                <div class="col" style="text-align: center;">
                                                    <p class="text-1000 mb-0 h4">11:30 - 12:00 pm</p>
                                                </div>

                                            </div>
                                            <div class="row" style="display: flex; align-items: center; margin-bottom: 35px;margin-top: 35px;">
                                                <div class="col" style="text-align: center;">
                                                    <p class="text-1000 mb-0 h4">12:00 - 12:30 pm</p>
                                                </div>

                                            </div>
                                            <div class="row" style="display: flex; align-items: center; margin-bottom: 35px;margin-top: 35px;">
                                                <div class="col" style="text-align: center;">
                                                    <p class="text-1000 mb-0 h4">13:30 - 14:00 pm</p>
                                                </div>

                                            </div>
                                            <div class="row" style="display: flex; align-items: center; margin-bottom: 35px;margin-top: 35px;">
                                                <div class="col" style="text-align: center;">
                                                    <p class="text-1000 mb-0 h4">14:30 - 15:00 pm</p>
                                                </div>

                                            </div>
                                            <div class="row" style="display: flex; align-items: center; margin-bottom: 35px;margin-top: 35px;">
                                                <div class="col" style="text-align: center;">
                                                    <p class="text-1000 mb-0 h4">15:30 - 16:00 pm</p>
                                                </div>

                                            </div>
                                            <div class="row" style="display: flex; align-items: center">
                                                <div class="col" style="text-align: center;">
                                                    <p class="text-1000 mb-0 h4">16:00 - 16:30 pm</p>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 pl-lg-2 mb-3">
                                <div class="card mb-3 h-100">
                                    <div th:replace="~{fragmentos/calendar.html::calendar}"></div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-falcon-secondary btn-sm" type="button" data-dismiss="modal">Aceptar</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ===============================================-->
<!--   Modals -->
<!-- ===============================================-->





<!-- ===============================================-->
<!--    JavaScripts-->
<!-- ===============================================-->
<!--    Scripts de Calendar -->
<script th:src="@{/lib/fullcalendar/main.min.js}"></script>
<div th:replace="~{fragmentos/scripts.html::scripts}"></div>

<!--    Scripts de DataTable -->
<script th:src="@{/lib/datatables/js/jquery.dataTables.min.js}"></script>
<script th:src="@{/lib/datatables-bs4/dataTables.bootstrap4.min.js}"></script>
<script th:src="@{/lib/datatables.net-responsive/dataTables.responsive.js}"></script>
<script th:src="@{/lib/datatables.net-responsive-bs4/responsive.bootstrap4.js}"></script>
<script th:src="@{/lib/datatables-buttons/dataTables.buttons.min.js}"></script>
<script th:src="@{/lib/datatables-buttons/buttons.bootstrap4.min.js}"></script>
<script th:src="@{/lib/datatables-buttons/buttons.flash.min.js}"></script>
<script th:src="@{/lib/datatables-buttons/jszip.min.js}"></script>
<script th:src="@{/lib/datatables-buttons/buttons.html5.min.js}"></script>

<!-- Initialize DataTable in JavaScript -->
<script>
    $(document).ready(function () {
        //Esta busacando por el ID del tah <table>
        //para que entiendan bien lo que se esta haciendo, leer la documentación de datatable
        $('#formList').DataTable({
            dom: "<'d-flex justify-content-end pb-4'B>\n" +
                "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>>\n" +
                "<'table-responsive'tr>\n" +
                "<'row align-items-center'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 d-flex justify-content-end'p>>",
            language: {
                processing: "Procesando...",
                lengthMenu: "Mostrar  _MENU_  formularios",
                zeroRecords: "No se encontraron formularios",
                emptyTable: "No hay formularios",
                info: "Mostrando formularios del _START_ al _END_ <br>Total _TOTAL_ formularios",
                infoEmpty: "Mostrando formularios del 0 al 0 <br>Total 0 formularios",
                infoFiltered: "(filtrado de un total de _MAX_ formularios)",
                loadingRecords: "Cargando...",
                search: "Buscar:",
                paginate: {
                    previous: '<i class="fa fa-lg fa-angle-left mr-2"></i>Anterior',
                    next: 'Siguiente<i class="fa fa-lg fa-angle-right ml-2"></i>'
                }
            },
            autoWidth: false,
            lengthMenu: [
                [6, 10, 15, -1], [6, 10, 15, "Todos"]
            ],
            buttons: [

            ]
        });
    });


</script>


</body>
</html>